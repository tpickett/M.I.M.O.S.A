import{aj as o}from"./index-a61d92dd.js";import{r as a}from"./VTextField-8f75e674.js";const n=a.create({baseURL:"/api/",timeout:3e3}),l=o("organizers",{state:()=>({organizers:[],selected:{},selectedSlots:[]}),actions:{update(e){return n.put(`organizers/${e.id}`,e,{headers:{"Content-type":"application/json"}})},remove(e){return console.log(e),n.delete(`organizers/${e.id}`).then(t=>{t.status===200&&(this.organizers=this.organizers.filter(s=>s.id!==e.id))})},test(e,t){n.get(`organizers/${t}/illuminate/${e}`).then(s=>{console.log(`illuminating led slot: ${e}, at Organizer ID: ${t}`)})},locate(e){n.get(`organizers/${e}/illuminate`).then(t=>{console.log(`illuminating Organizer ID: ${e}`)})},add(e){return n.post("organizers",e,{headers:{"Content-type":"application/json"}}).then(t=>this.organizers.push(t.data)).then(()=>({}))},select(e){if(this.organizers.length){let t=this.organizers.findIndex(s=>parseInt(s.id)==parseInt(e));return this.selected=this.organizers[t],Promise.resolve()}else return this.find().then(()=>{let t=this.organizers.findIndex(s=>parseInt(s.id)==parseInt(e));this.selected=this.organizers[t]})},find(){return n.get("organizers").then(e=>{this.organizers=e.data})},assign(e,t,s){return n.post(`organizers/${e}/parts`,{slot:t,part:s},{headers:{"Content-type":"application/json"}})},findSelectedParts(e){let t=this.selected.led_count,s={};for(let r=0;r<t-1;r++){const i=`${r}`;s[i]={}}e.find(r=>s[r.position]=r),this.selectedSlots=s}}}),h=l;export{h as u};
