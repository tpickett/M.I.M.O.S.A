import{u as w}from"./organizer-9cf58b12.js";import{C as c,E as d,F as g,G as a,m as r,H as t,Q as V,M as O,S as C,R as m}from"./index-a61d92dd.js";import{_ as k,n as i,V as v,l as $}from"./scopeId-e67cf07f.js";import{g as f,c as o,e as s,V as z,a as D,b as p,f as S,d as _,h as N}from"./VTextField-8f75e674.js";import{V as L}from"./VSpacer-09f545a6.js";const b=c({setup(){return{organizerStore:w()}},data(){return{newOrganizer:{},showNewDialog:!1,editing:!1,search:""}},mounted(){this.organizerStore.organizers.length||this.organizerStore.find()},methods:{saveNewOrganizer(){let e;this.editing?e=this.organizerStore.update(this.newOrganizer):e=this.organizerStore.add(this.newOrganizer),e.then(()=>this.closeDialogue())},singleOrganizerNavigate(e){this.$router.push({name:"organizer",params:{id:e.id}})},locateOrganizer(e){console.log(`should be locating the organizer: ${e}`),this.organizerStore.locate(e)},editOrganizer(e){this.newOrganizer=e,this.editing=!0,this.showNewDialog=!0},deleteOrganizer(e){this.organizerStore.remove(e)},closeDialogue(){this.newOrganizer={},this.showNewDialog=!1,this.editing=!1}},computed:{filteredOrganizers(){return this.organizerStore.organizers.filter(e=>this.search?e.name.toLocaleLowerCase().includes(this.search.toLocaleLowerCase()):!0)}}});function y(e,n,h,B,U,T){return d(),g(N,{class:"fill-height"},{default:a(()=>[r(f,{class:"d-flex align-center justify-center"},{default:a(()=>[r(o,{cols:"10"},{default:a(()=>[r(s,{label:"Search Organizers",modelValue:e.search,"onUpdate:modelValue":n[0]||(n[0]=l=>e.search=l)},null,8,["modelValue"])]),_:1}),r(o,{cols:"2"},{default:a(()=>[r(i,{onClick:n[1]||(n[1]=l=>e.showNewDialog=!0)},{default:a(()=>[t("Add Organizer")]),_:1})]),_:1}),r(f,{dense:""},{default:a(()=>[(d(!0),V(O,null,C(e.filteredOrganizers,l=>(d(),g(o,{key:l.name,cols:2},{default:a(()=>[r(z,{class:"organizer-card"},{default:a(()=>[r(v,{onClick:u=>e.singleOrganizerNavigate(l),src:"https://img.uline.com/is/image/uline/H-5579BL?$Large$",class:"align-end",gradient:"to bottom, rgba(0,0,0,.1), rgba(0,0,0,.5)",height:"200px",cover:""},{default:a(()=>[r(D,{class:"text-white",textContent:m(l.name)},null,8,["textContent"])]),_:2},1032,["onClick"]),r(p,null,{default:a(()=>[r(L),r(i,{color:"#f25858","prepend-icon":"mdi-delete-forever",title:"Delete",onClick:u=>e.deleteOrganizer(l)},{default:a(()=>[t("Delete")]),_:2},1032,["onClick"]),r(i,{color:"surface-variant","prepend-icon":"mdi-file-edit",title:"Edit",onClick:u=>e.editOrganizer(l)},{default:a(()=>[t("Edit")]),_:2},1032,["onClick"]),r(i,{"prepend-icon":"mdi-lighthouse-on",title:"Locate",onClick:u=>e.locateOrganizer(l.id)},{default:a(()=>[t("Locate")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),r(S,{modelValue:e.showNewDialog,"onUpdate:modelValue":n[6]||(n[6]=l=>e.showNewDialog=l),width:"1024"},{default:a(()=>[r(z,null,{title:a(()=>[t(m(e.editing?`Editing organizer: ${e.newOrganizer.id}`:"New Organizer"),1)]),default:a(()=>[r(_,null,{default:a(()=>[r(s,{modelValue:e.newOrganizer.name,"onUpdate:modelValue":n[2]||(n[2]=l=>e.newOrganizer.name=l),label:"Name"},null,8,["modelValue"]),r(s,{modelValue:e.newOrganizer.led_count,"onUpdate:modelValue":n[3]||(n[3]=l=>e.newOrganizer.led_count=l),label:"LED Count"},null,8,["modelValue"]),r(s,{modelValue:e.newOrganizer.ip,"onUpdate:modelValue":n[4]||(n[4]=l=>e.newOrganizer.ip=l),label:"IP Address"},null,8,["modelValue"])]),_:1}),r(p,null,{default:a(()=>[r(o,{cols:"2",offset:"8","align-self":"start"},{default:a(()=>[r(i,{color:"primary",onClick:e.closeDialogue},{default:a(()=>[t("Close Dialog")]),_:1},8,["onClick"])]),_:1}),r(o,{cols:"2","align-self":"end"},{default:a(()=>[r(i,{"prepend-icon":"mdi-check-circle",onClick:n[5]||(n[5]=l=>e.saveNewOrganizer())},{prepend:a(()=>[r($,{color:"success"})]),default:a(()=>[t("Save ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})}const E=k(b,[["render",y]]),j=c({__name:"Organizers",setup(e){return(n,h)=>(d(),g(f,null,{default:a(()=>[r(o,null,{default:a(()=>[r(E)]),_:1})]),_:1}))}});export{j as default};
